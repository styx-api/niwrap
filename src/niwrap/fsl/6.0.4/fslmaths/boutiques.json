{
  "name": "fslmaths",
  "description": "FSL utility for image arithmetic, statistics, and mathematical operations",
  "command-line": "fslmaths [DATATYPE_INTERNAL] [INPUT_FILES] [OPERATIONS] [OUTPUT] [OUTPUT_DATATYPE]",
  "author": "FMRIB Analysis Group, University of Oxford",
  "schema-version": "0.5+styx",
  "inputs": [
    {
      "id": "datatype_internal",
      "name": "Internal datatype",
      "type": "String",
      "optional": true,
      "description": "Datatype used internally for calculations",
      "value-choices": [
        "char",
        "short",
        "int",
        "float",
        "double",
        "input"
      ],
      "value-key": "[DATATYPE_INTERNAL]",
      "command-line-flag": "-dt"
    },
    {
      "value-key": "[INPUT_FILES]",
      "id": "input_files",
      "name": "Input images",
      "type": "File",
      "list": true,
      "description": "Input images for processing",
      "optional": false
    },
    {
      "value-key": "[OPERATIONS]",
      "id": "operations",
      "name": "Operations",
      "description": "Operations to perform on input images",
      "list": true,
      "type": [
        {
          "id": "operation_add",
          "name": "Add",
          "description": "Add following input to current image",
          "command-line": "[OP_ADD]",
          "inputs": [
            {
              "value-key": "[OP_ADD]",
              "id": "add",
              "name": "Add",
              "type": "Number",
              "description": "Add following input to current image",
              "optional": true,
              "command-line-flag": "-add"
            }
          ]
        },
        {
          "id": "operation_sub",
          "name": "Subtract",
          "description": "Subtract following input from current image",
          "command-line": "[OP_SUB]",
          "inputs": [
            {
              "value-key": "[OP_SUB]",
              "id": "sub",
              "name": "Subtract",
              "type": "Number",
              "description": "Subtract following input from current image",
              "optional": true,
              "command-line-flag": "-sub"
            }
          ]
        },
        {
          "id": "operation_mul",
          "name": "Multiply",
          "description": "Multiply current image by following input",
          "command-line": "[OP_MUL]",
          "inputs": [
            {
              "value-key": "[OP_MUL]",
              "id": "mul",
              "name": "Multiply",
              "type": "Number",
              "description": "Multiply current image by following input",
              "optional": true,
              "command-line-flag": "-mul"
            }
          ]
        },
        {
          "id": "operation_div",
          "name": "Divide",
          "description": "Divide current image by following input",
          "command-line": "[OP_DIV]",
          "inputs": [
            {
              "value-key": "[OP_DIV]",
              "id": "div",
              "name": "Divide",
              "type": "Number",
              "description": "Divide current image by following input",
              "optional": true,
              "command-line-flag": "-div"
            }
          ]
        },
        {
          "id": "operation_rem",
          "name": "Modulus remainder",
          "description": "Modulus remainder - divide current image by following input and take remainder",
          "command-line": "[OP_REM]",
          "inputs": [
            {
              "value-key": "[OP_REM]",
              "id": "rem",
              "name": "Modulus remainder",
              "type": "Number",
              "description": "Modulus remainder - divide current image by following input and take remainder",
              "optional": true,
              "command-line-flag": "-rem"
            }
          ]
        },
        {
          "id": "operation_mas",
          "name": "Mask",
          "description": "Use (following image>0) to mask current image",
          "command-line": "[OP_MAS]",
          "inputs": [
            {
              "value-key": "[OP_MAS]",
              "id": "mas",
              "name": "Mask",
              "type": "File",
              "description": "Use (following image>0) to mask current image",
              "optional": true,
              "command-line-flag": "-mas"
            }
          ]
        },
        {
          "id": "operation_thr",
          "name": "Threshold",
          "description": "Use following number to threshold current image (zero anything below the number)",
          "command-line": "[OP_THR]",
          "inputs": [
            {
              "value-key": "[OP_THR]",
              "id": "thr",
              "name": "Threshold",
              "type": "Number",
              "description": "Use following number to threshold current image (zero anything below the number)",
              "optional": true,
              "command-line-flag": "-thr"
            }
          ]
        },
        {
          "id": "operation_thrp",
          "name": "Threshold percentage",
          "description": "Use following percentage (0-100) of ROBUST RANGE to threshold current image (zero anything below the number)",
          "command-line": "[OP_THRP]",
          "inputs": [
            {
              "value-key": "[OP_THRP]",
              "id": "thrp",
              "name": "Threshold percentage",
              "type": "Number",
              "description": "Use following percentage (0-100) of ROBUST RANGE to threshold current image (zero anything below the number)",
              "optional": true,
              "command-line-flag": "-thrp",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_thrP",
          "name": "Threshold percentage of non-zero voxels",
          "description": "Use following percentage (0-100) of ROBUST RANGE of non-zero voxels and threshold below",
          "command-line": "[OP_THRP_2]",
          "inputs": [
            {
              "value-key": "[OP_THRP_2]",
              "id": "thrP",
              "name": "Threshold percentage of non-zero voxels",
              "type": "Number",
              "description": "Use following percentage (0-100) of ROBUST RANGE of non-zero voxels and threshold below",
              "optional": true,
              "command-line-flag": "-thrP",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_uthr",
          "name": "Upper threshold",
          "description": "Use following number to upper-threshold current image (zero anything above the number)",
          "command-line": "[OP_UTHR]",
          "inputs": [
            {
              "value-key": "[OP_UTHR]",
              "id": "uthr",
              "name": "Upper threshold",
              "type": "Number",
              "description": "Use following number to upper-threshold current image (zero anything above the number)",
              "optional": true,
              "command-line-flag": "-uthr"
            }
          ]
        },
        {
          "id": "operation_uthrp",
          "name": "Upper threshold percentage",
          "description": "Use following percentage (0-100) of ROBUST RANGE to upper-threshold current image (zero anything above the number)",
          "command-line": "[OP_UTHRP]",
          "inputs": [
            {
              "value-key": "[OP_UTHRP]",
              "id": "uthrp",
              "name": "Upper threshold percentage",
              "type": "Number",
              "description": "Use following percentage (0-100) of ROBUST RANGE to upper-threshold current image (zero anything above the number)",
              "optional": true,
              "command-line-flag": "-uthrp",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_uthrP",
          "name": "Upper threshold percentage of non-zero voxels",
          "description": "Use following percentage (0-100) of ROBUST RANGE of non-zero voxels and threshold above",
          "command-line": "[OP_UTHRP_2]",
          "inputs": [
            {
              "value-key": "[OP_UTHRP_2]",
              "id": "uthrP",
              "name": "Upper threshold percentage of non-zero voxels",
              "type": "Number",
              "description": "Use following percentage (0-100) of ROBUST RANGE of non-zero voxels and threshold above",
              "optional": true,
              "command-line-flag": "-uthrP",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_max",
          "name": "Maximum",
          "description": "Take maximum of following input and current image",
          "command-line": "[OP_MAX]",
          "inputs": [
            {
              "value-key": "[OP_MAX]",
              "id": "max",
              "name": "Maximum",
              "type": "Number",
              "description": "Take maximum of following input and current image",
              "optional": true,
              "command-line-flag": "-max"
            }
          ]
        },
        {
          "id": "operation_min",
          "name": "Minimum",
          "description": "Take minimum of following input and current image",
          "command-line": "[OP_MIN]",
          "inputs": [
            {
              "value-key": "[OP_MIN]",
              "id": "min",
              "name": "Minimum",
              "type": "Number",
              "description": "Take minimum of following input and current image",
              "optional": true,
              "command-line-flag": "-min"
            }
          ]
        },
        {
          "id": "operation_seed",
          "name": "Seed",
          "description": "Seed random number generator with following number",
          "command-line": "[OP_SEED]",
          "inputs": [
            {
              "value-key": "[OP_SEED]",
              "id": "seed",
              "name": "Seed",
              "type": "Number",
              "description": "Seed random number generator with following number",
              "optional": true,
              "command-line-flag": "-seed"
            }
          ]
        },
        {
          "id": "operation_restart",
          "name": "Restart",
          "description": "Replace the current image with input for future processing operations",
          "command-line": "[OP_RESTART]",
          "inputs": [
            {
              "value-key": "[OP_RESTART]",
              "id": "restart",
              "name": "Restart",
              "type": "File",
              "description": "Replace the current image with input for future processing operations",
              "optional": true,
              "command-line-flag": "-restart"
            }
          ]
        },
        {
          "id": "operation_save",
          "name": "Save",
          "description": "Save the current working image to the input filename",
          "command-line": "[OP_SAVE]",
          "inputs": [
            {
              "value-key": "[OP_SAVE]",
              "id": "save",
              "name": "Save",
              "type": "Flag",
              "description": "Save the current working image to the input filename",
              "command-line-flag": "-save"
            }
          ]
        },
        {
          "id": "operation_exp",
          "name": "Exponential",
          "description": "Exponential",
          "command-line": "[OP_EXP]",
          "inputs": [
            {
              "value-key": "[OP_EXP]",
              "id": "exp",
              "name": "Exponential",
              "type": "Flag",
              "description": "Exponential",
              "command-line-flag": "-exp"
            }
          ]
        },
        {
          "id": "operation_log",
          "name": "Natural logarithm",
          "description": "Natural logarithm",
          "command-line": "[OP_LOG]",
          "inputs": [
            {
              "value-key": "[OP_LOG]",
              "id": "log",
              "name": "Natural logarithm",
              "type": "Flag",
              "description": "Natural logarithm",
              "command-line-flag": "-log"
            }
          ]
        },
        {
          "id": "operation_sin",
          "name": "Sine",
          "description": "Sine function",
          "command-line": "[OP_SIN]",
          "inputs": [
            {
              "value-key": "[OP_SIN]",
              "id": "sin",
              "name": "Sine",
              "type": "Flag",
              "description": "Sine function",
              "command-line-flag": "-sin"
            }
          ]
        },
        {
          "id": "operation_cos",
          "name": "Cosine",
          "description": "Cosine function",
          "command-line": "[OP_COS]",
          "inputs": [
            {
              "value-key": "[OP_COS]",
              "id": "cos",
              "name": "Cosine",
              "type": "Flag",
              "description": "Cosine function",
              "command-line-flag": "-cos"
            }
          ]
        },
        {
          "id": "operation_tan",
          "name": "Tangent",
          "description": "Tangent function",
          "command-line": "[OP_TAN]",
          "inputs": [
            {
              "value-key": "[OP_TAN]",
              "id": "tan",
              "name": "Tangent",
              "type": "Flag",
              "description": "Tangent function",
              "command-line-flag": "-tan"
            }
          ]
        },
        {
          "id": "operation_asin",
          "name": "Arc sine",
          "description": "Arc sine function",
          "command-line": "[OP_ASIN]",
          "inputs": [
            {
              "value-key": "[OP_ASIN]",
              "id": "asin",
              "name": "Arc sine",
              "type": "Flag",
              "description": "Arc sine function",
              "command-line-flag": "-asin"
            }
          ]
        },
        {
          "id": "operation_acos",
          "name": "Arc cosine",
          "description": "Arc cosine function",
          "command-line": "[OP_ACOS]",
          "inputs": [
            {
              "value-key": "[OP_ACOS]",
              "id": "acos",
              "name": "Arc cosine",
              "type": "Flag",
              "description": "Arc cosine function",
              "command-line-flag": "-acos"
            }
          ]
        },
        {
          "id": "operation_atan",
          "name": "Arc tangent",
          "description": "Arc tangent function",
          "command-line": "[OP_ATAN]",
          "inputs": [
            {
              "value-key": "[OP_ATAN]",
              "id": "atan",
              "name": "Arc tangent",
              "type": "Flag",
              "description": "Arc tangent function",
              "command-line-flag": "-atan"
            }
          ]
        },
        {
          "id": "operation_sqr",
          "name": "Square",
          "description": "Square",
          "command-line": "[OP_SQR]",
          "inputs": [
            {
              "value-key": "[OP_SQR]",
              "id": "sqr",
              "name": "Square",
              "type": "Flag",
              "description": "Square",
              "command-line-flag": "-sqr"
            }
          ]
        },
        {
          "id": "operation_sqrt",
          "name": "Square root",
          "description": "Square root",
          "command-line": "[OP_SQRT]",
          "inputs": [
            {
              "value-key": "[OP_SQRT]",
              "id": "sqrt",
              "name": "Square root",
              "type": "Flag",
              "description": "Square root",
              "command-line-flag": "-sqrt"
            }
          ]
        },
        {
          "id": "operation_recip",
          "name": "Reciprocal",
          "description": "Reciprocal (1/current image)",
          "command-line": "[OP_RECIP]",
          "inputs": [
            {
              "value-key": "[OP_RECIP]",
              "id": "recip",
              "name": "Reciprocal",
              "type": "Flag",
              "description": "Reciprocal (1/current image)",
              "command-line-flag": "-recip"
            }
          ]
        },
        {
          "id": "operation_abs",
          "name": "Absolute value",
          "description": "Absolute value",
          "command-line": "[OP_ABS]",
          "inputs": [
            {
              "value-key": "[OP_ABS]",
              "id": "abs",
              "name": "Absolute value",
              "type": "Flag",
              "description": "Absolute value",
              "command-line-flag": "-abs"
            }
          ]
        },
        {
          "id": "operation_bin",
          "name": "Binarise",
          "description": "Use (current image>0) to binarise",
          "command-line": "[OP_BIN]",
          "inputs": [
            {
              "value-key": "[OP_BIN]",
              "id": "bin",
              "name": "Binarise",
              "type": "Flag",
              "description": "Use (current image>0) to binarise",
              "command-line-flag": "-bin"
            }
          ]
        },
        {
          "id": "operation_binv",
          "name": "Binarise and invert",
          "description": "Binarise and invert (binarisation and logical inversion)",
          "command-line": "[OP_BINV]",
          "inputs": [
            {
              "value-key": "[OP_BINV]",
              "id": "binv",
              "name": "Binarise and invert",
              "type": "Flag",
              "description": "Binarise and invert (binarisation and logical inversion)",
              "command-line-flag": "-binv"
            }
          ]
        },
        {
          "id": "operation_fillh",
          "name": "Fill holes",
          "description": "Fill holes in a binary mask (holes are internal - i.e. do not touch the edge of the FOV)",
          "command-line": "[OP_FILLH]",
          "inputs": [
            {
              "value-key": "[OP_FILLH]",
              "id": "fillh",
              "name": "Fill holes",
              "type": "Flag",
              "description": "Fill holes in a binary mask (holes are internal - i.e. do not touch the edge of the FOV)",
              "command-line-flag": "-fillh"
            }
          ]
        },
        {
          "id": "operation_fillh26",
          "name": "Fill holes using 26 connectivity",
          "description": "Fill holes using 26 connectivity",
          "command-line": "[OP_FILLH26]",
          "inputs": [
            {
              "value-key": "[OP_FILLH26]",
              "id": "fillh26",
              "name": "Fill holes using 26 connectivity",
              "type": "Flag",
              "description": "Fill holes using 26 connectivity",
              "command-line-flag": "-fillh26"
            }
          ]
        },
        {
          "id": "operation_index",
          "name": "Index",
          "description": "Replace each nonzero voxel with a unique (subject to wrapping) index number",
          "command-line": "[OP_INDEX]",
          "inputs": [
            {
              "value-key": "[OP_INDEX]",
              "id": "index",
              "name": "Index",
              "type": "Flag",
              "description": "Replace each nonzero voxel with a unique (subject to wrapping) index number",
              "command-line-flag": "-index"
            }
          ]
        },
        {
          "id": "operation_grid",
          "name": "Grid",
          "description": "Add a 3D grid of intensity <value> with grid spacing <spacing>",
          "command-line": "[OP_GRID]",
          "inputs": [
            {
              "value-key": "[OP_GRID]",
              "id": "grid",
              "name": "Grid",
              "type": "Number",
              "list": true,
              "description": "Add a 3D grid of intensity <value> with grid spacing <spacing>",
              "optional": true,
              "command-line-flag": "-grid"
            }
          ]
        },
        {
          "id": "operation_edge",
          "name": "Edge strength",
          "description": "Edge strength",
          "command-line": "[OP_EDGE]",
          "inputs": [
            {
              "value-key": "[OP_EDGE]",
              "id": "edge",
              "name": "Edge strength",
              "type": "Flag",
              "description": "Edge strength",
              "command-line-flag": "-edge"
            }
          ]
        },
        {
          "id": "operation_tfce",
          "name": "Enhance with TFCE",
          "description": "Enhance with TFCE, e.g. -tfce 2 0.5 6 (maybe change 6 to 26 for skeletons)",
          "command-line": "[OP_TFCE]",
          "inputs": [
            {
              "value-key": "[OP_TFCE]",
              "id": "tfce",
              "name": "Enhance with TFCE",
              "type": "Number",
              "list": true,
              "description": "Enhance with TFCE, e.g. -tfce 2 0.5 6 (maybe change 6 to 26 for skeletons)",
              "optional": true,
              "command-line-flag": "-tfce"
            }
          ]
        },
        {
          "id": "operation_tfceS",
          "name": "Show support area for voxel",
          "description": "Show support area for voxel (X,Y,Z)",
          "command-line": "[OP_TFCE_S]",
          "inputs": [
            {
              "value-key": "[OP_TFCE_S]",
              "id": "tfceS",
              "name": "Show support area for voxel",
              "type": "Number",
              "list": true,
              "description": "Show support area for voxel (X,Y,Z)",
              "optional": true,
              "command-line-flag": "-tfceS"
            }
          ]
        },
        {
          "id": "operation_nan",
          "name": "Replace NaNs",
          "description": "Replace NaNs (improper numbers) with 0",
          "command-line": "[OP_NAN]",
          "inputs": [
            {
              "value-key": "[OP_NAN]",
              "id": "nan",
              "name": "Replace NaNs",
              "type": "Flag",
              "description": "Replace NaNs (improper numbers) with 0",
              "command-line-flag": "-nan"
            }
          ]
        },
        {
          "id": "operation_nanm",
          "name": "Make NaN mask",
          "description": "Make NaN (improper number) mask with 1 for NaN voxels, 0 otherwise",
          "command-line": "[OP_NANM]",
          "inputs": [
            {
              "value-key": "[OP_NANM]",
              "id": "nanm",
              "name": "Make NaN mask",
              "type": "Flag",
              "description": "Make NaN (improper number) mask with 1 for NaN voxels, 0 otherwise",
              "command-line-flag": "-nanm"
            }
          ]
        },
        {
          "id": "operation_rand",
          "name": "Add uniform noise",
          "description": "Add uniform noise (range 0:1)",
          "command-line": "[OP_RAND]",
          "inputs": [
            {
              "value-key": "[OP_RAND]",
              "id": "rand",
              "name": "Add uniform noise",
              "type": "Flag",
              "description": "Add uniform noise (range 0:1)",
              "command-line-flag": "-rand"
            }
          ]
        },
        {
          "id": "operation_randn",
          "name": "Add Gaussian noise",
          "description": "Add Gaussian noise (mean=0 sigma=1)",
          "command-line": "[OP_RANDN]",
          "inputs": [
            {
              "value-key": "[OP_RANDN]",
              "id": "randn",
              "name": "Add Gaussian noise",
              "type": "Flag",
              "description": "Add Gaussian noise (mean=0 sigma=1)",
              "command-line-flag": "-randn"
            }
          ]
        },
        {
          "id": "operation_inm",
          "name": "Intensity normalisation",
          "description": "Intensity normalisation (per 3D volume mean)",
          "command-line": "[OP_INM]",
          "inputs": [
            {
              "value-key": "[OP_INM]",
              "id": "inm",
              "name": "Intensity normalisation",
              "type": "Number",
              "description": "Intensity normalisation (per 3D volume mean)",
              "optional": true,
              "command-line-flag": "-inm"
            }
          ]
        },
        {
          "id": "operation_ing",
          "name": "Intensity normalisation, global 4D mean",
          "description": "Intensity normalisation, global 4D mean",
          "command-line": "[OP_ING]",
          "inputs": [
            {
              "value-key": "[OP_ING]",
              "id": "ing",
              "name": "Intensity normalisation, global 4D mean",
              "type": "Number",
              "description": "Intensity normalisation, global 4D mean",
              "optional": true,
              "command-line-flag": "-ing"
            }
          ]
        },
        {
          "id": "operation_range",
          "name": "Set output calmin/max to full data range",
          "description": "Set the output calmin/max to full data range",
          "command-line": "[OP_RANGE]",
          "inputs": [
            {
              "value-key": "[OP_RANGE]",
              "id": "range",
              "name": "Set output calmin/max to full data range",
              "type": "Flag",
              "description": "Set the output calmin/max to full data range",
              "command-line-flag": "-range"
            }
          ]
        },
        {
          "id": "operation_tensor_decomp",
          "name": "Tensor decomposition",
          "description": "Convert a 4D (6-timepoint) tensor image into L1,2,3,FA,MD,MO,V1,2,3 (remaining image in pipeline is FA)",
          "command-line": "[OP_TENSOR_DECOMP]",
          "inputs": [
            {
              "value-key": "[OP_TENSOR_DECOMP]",
              "id": "tensor_decomp",
              "name": "Tensor decomposition",
              "type": "Flag",
              "description": "Convert a 4D (6-timepoint) tensor image into L1,2,3,FA,MD,MO,V1,2,3 (remaining image in pipeline is FA)",
              "command-line-flag": "-tensor_decomp"
            }
          ]
        },
        {
          "id": "operation_kernel_3D",
          "name": "3D kernel",
          "description": "3x3x3 box centered on target voxel (set as default kernel)",
          "command-line": "[OP_KERNEL_3D]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_3D]",
              "id": "kernel_3D",
              "name": "3D kernel",
              "type": "Flag",
              "description": "3x3x3 box centered on target voxel (set as default kernel)",
              "command-line-flag": "-kernel 3D"
            }
          ]
        },
        {
          "id": "operation_kernel_2D",
          "name": "2D kernel",
          "description": "3x3x1 box centered on target voxel",
          "command-line": "[OP_KERNEL_2D]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_2D]",
              "id": "kernel_2D",
              "name": "2D kernel",
              "type": "Flag",
              "description": "3x3x1 box centered on target voxel",
              "command-line-flag": "-kernel 2D"
            }
          ]
        },
        {
          "id": "operation_kernel_box",
          "name": "Box kernel",
          "description": "All voxels in a cube of width <size> mm centered on target voxel",
          "command-line": "[OP_KERNEL_BOX]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_BOX]",
              "id": "kernel_box",
              "name": "Box kernel",
              "type": "Number",
              "description": "All voxels in a cube of width <size> mm centered on target voxel",
              "optional": true,
              "command-line-flag": "-kernel box"
            }
          ]
        },
        {
          "id": "operation_kernel_boxv",
          "name": "Box kernel (voxels)",
          "description": "All voxels in a cube of width <size> voxels centered on target voxel",
          "command-line": "[OP_KERNEL_BOXV]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_BOXV]",
              "id": "kernel_boxv",
              "name": "Box kernel (voxels)",
              "type": "Number",
              "description": "All voxels in a cube of width <size> voxels centered on target voxel",
              "optional": true,
              "command-line-flag": "-kernel boxv"
            }
          ]
        },
        {
          "id": "operation_kernel_boxv3",
          "name": "Box kernel (3D voxels)",
          "description": "All voxels in a cuboid of dimensions X x Y x Z centered on target voxel",
          "command-line": "[OP_KERNEL_BOXV3]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_BOXV3]",
              "id": "kernel_boxv3",
              "name": "Box kernel (3D voxels)",
              "type": "Number",
              "list": true,
              "min-list-entries": 3,
              "max-list-entries": 3,
              "description": "All voxels in a cuboid of dimensions X x Y x Z centered on target voxel",
              "optional": true,
              "command-line-flag": "-kernel boxv3"
            }
          ]
        },
        {
          "id": "operation_kernel_gauss",
          "name": "Gaussian kernel",
          "description": "Gaussian kernel (sigma in mm, not voxels)",
          "command-line": "[OP_KERNEL_GAUSS]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_GAUSS]",
              "id": "kernel_gauss",
              "name": "Gaussian kernel",
              "type": "Number",
              "description": "Gaussian kernel (sigma in mm, not voxels)",
              "optional": true,
              "command-line-flag": "-kernel gauss"
            }
          ]
        },
        {
          "id": "operation_kernel_sphere",
          "name": "Sphere kernel",
          "description": "All voxels in a sphere of radius <size> mm centered on target voxel",
          "command-line": "[OP_KERNEL_SPHERE]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_SPHERE]",
              "id": "kernel_sphere",
              "name": "Sphere kernel",
              "type": "Number",
              "description": "All voxels in a sphere of radius <size> mm centered on target voxel",
              "optional": true,
              "command-line-flag": "-kernel sphere"
            }
          ]
        },
        {
          "id": "operation_kernel_file",
          "name": "External file kernel",
          "description": "Use external file as kernel",
          "command-line": "[OP_KERNEL_FILE]",
          "inputs": [
            {
              "value-key": "[OP_KERNEL_FILE]",
              "id": "kernel_file",
              "name": "External file kernel",
              "type": "File",
              "description": "Use external file as kernel",
              "optional": true,
              "command-line-flag": "-kernel file"
            }
          ]
        },
        {
          "id": "operation_dilM",
          "name": "Mean dilation",
          "description": "Mean Dilation of non-zero voxels",
          "command-line": "[OP_DILM]",
          "inputs": [
            {
              "value-key": "[OP_DILM]",
              "id": "dilM",
              "name": "Mean dilation",
              "type": "Flag",
              "description": "Mean Dilation of non-zero voxels",
              "command-line-flag": "-dilM"
            }
          ]
        },
        {
          "id": "operation_dilD",
          "name": "Modal dilation",
          "description": "Modal Dilation of non-zero voxels",
          "command-line": "[OP_DILD]",
          "inputs": [
            {
              "value-key": "[OP_DILD]",
              "id": "dilD",
              "name": "Modal dilation",
              "type": "Flag",
              "description": "Modal Dilation of non-zero voxels",
              "command-line-flag": "-dilD"
            }
          ]
        },
        {
          "id": "operation_dilF",
          "name": "Maximum filtering",
          "description": "Maximum filtering of all voxels",
          "command-line": "[OP_DILF]",
          "inputs": [
            {
              "value-key": "[OP_DILF]",
              "id": "dilF",
              "name": "Maximum filtering",
              "type": "Flag",
              "description": "Maximum filtering of all voxels",
              "command-line-flag": "-dilF"
            }
          ]
        },
        {
          "id": "operation_dilall",
          "name": "Dilate all",
          "description": "Apply -dilM repeatedly until the entire FOV is covered",
          "command-line": "[OP_DILALL]",
          "inputs": [
            {
              "value-key": "[OP_DILALL]",
              "id": "dilall",
              "name": "Dilate all",
              "type": "Flag",
              "description": "Apply -dilM repeatedly until the entire FOV is covered",
              "command-line-flag": "-dilall"
            }
          ]
        },
        {
          "id": "operation_ero",
          "name": "Erode",
          "description": "Erode by zeroing non-zero voxels when zero voxels found in kernel",
          "command-line": "[OP_ERO]",
          "inputs": [
            {
              "value-key": "[OP_ERO]",
              "id": "ero",
              "name": "Erode",
              "type": "Flag",
              "description": "Erode by zeroing non-zero voxels when zero voxels found in kernel",
              "command-line-flag": "-ero"
            }
          ]
        },
        {
          "id": "operation_eroF",
          "name": "Minimum filtering",
          "description": "Minimum filtering of all voxels",
          "command-line": "[OP_EROF]",
          "inputs": [
            {
              "value-key": "[OP_EROF]",
              "id": "eroF",
              "name": "Minimum filtering",
              "type": "Flag",
              "description": "Minimum filtering of all voxels",
              "command-line-flag": "-eroF"
            }
          ]
        },
        {
          "id": "operation_fmedian",
          "name": "Median filtering",
          "description": "Median Filtering",
          "command-line": "[OP_FMEDIAN]",
          "inputs": [
            {
              "value-key": "[OP_FMEDIAN]",
              "id": "fmedian",
              "name": "Median filtering",
              "type": "Flag",
              "description": "Median Filtering",
              "command-line-flag": "-fmedian"
            }
          ]
        },
        {
          "id": "operation_fmean",
          "name": "Mean filtering",
          "description": "Mean filtering, kernel weighted (conventionally used with gauss kernel)",
          "command-line": "[OP_FMEAN]",
          "inputs": [
            {
              "value-key": "[OP_FMEAN]",
              "id": "fmean",
              "name": "Mean filtering",
              "type": "Flag",
              "description": "Mean filtering, kernel weighted (conventionally used with gauss kernel)",
              "command-line-flag": "-fmean"
            }
          ]
        },
        {
          "id": "operation_fmeanu",
          "name": "Mean filtering un-normalised",
          "description": "Mean filtering, kernel weighted, un-normalised (gives edge effects)",
          "command-line": "[OP_FMEANU]",
          "inputs": [
            {
              "value-key": "[OP_FMEANU]",
              "id": "fmeanu",
              "name": "Mean filtering un-normalised",
              "type": "Flag",
              "description": "Mean filtering, kernel weighted, un-normalised (gives edge effects)",
              "command-line-flag": "-fmeanu"
            }
          ]
        },
        {
          "id": "operation_s",
          "name": "Gaussian kernel filtering",
          "description": "Create a gauss kernel of sigma mm and perform mean filtering",
          "command-line": "[OP_S]",
          "inputs": [
            {
              "value-key": "[OP_S]",
              "id": "s",
              "name": "Gaussian kernel filtering",
              "type": "Number",
              "description": "Create a gauss kernel of sigma mm and perform mean filtering",
              "command-line-flag": "-s",
              "optional": true
            }
          ]
        },
        {
          "id": "operation_subsamp2",
          "name": "Downsample by factor of 2",
          "description": "Downsamples image by a factor of 2 (keeping new voxels centred on old)",
          "command-line": "[OP_SUBSAMP2]",
          "inputs": [
            {
              "value-key": "[OP_SUBSAMP2]",
              "id": "subsamp2",
              "name": "Downsample by factor of 2",
              "type": "Flag",
              "description": "Downsamples image by a factor of 2 (keeping new voxels centred on old)",
              "command-line-flag": "-subsamp2"
            }
          ]
        },
        {
          "id": "operation_subsamp2offc",
          "name": "Downsample by factor of 2 (non-centred)",
          "description": "Downsamples image by a factor of 2 (non-centred)",
          "command-line": "[OP_SUBSAMP2OFFC]",
          "inputs": [
            {
              "value-key": "[OP_SUBSAMP2OFFC]",
              "id": "subsamp2offc",
              "name": "Downsample by factor of 2 (non-centred)",
              "type": "Flag",
              "description": "Downsamples image by a factor of 2 (non-centred)",
              "command-line-flag": "-subsamp2offc"
            }
          ]
        },
        {
          "id": "operation_Tmean",
          "name": "Mean across time",
          "description": "Mean across time",
          "command-line": "[OP_TMEAN]",
          "inputs": [
            {
              "value-key": "[OP_TMEAN]",
              "id": "Tmean",
              "name": "Mean across time",
              "type": "Flag",
              "description": "Mean across time",
              "command-line-flag": "-Tmean"
            }
          ]
        },
        {
          "id": "operation_Xmean",
          "name": "Mean across X axis",
          "description": "Mean across X axis",
          "command-line": "[OP_XMEAN]",
          "inputs": [
            {
              "value-key": "[OP_XMEAN]",
              "id": "Xmean",
              "name": "Mean across X axis",
              "type": "Flag",
              "description": "Mean across X axis",
              "command-line-flag": "-Xmean"
            }
          ]
        },
        {
          "id": "operation_Ymean",
          "name": "Mean across Y axis",
          "description": "Mean across Y axis",
          "command-line": "[OP_YMEAN]",
          "inputs": [
            {
              "value-key": "[OP_YMEAN]",
              "id": "Ymean",
              "name": "Mean across Y axis",
              "type": "Flag",
              "description": "Mean across Y axis",
              "command-line-flag": "-Ymean"
            }
          ]
        },
        {
          "id": "operation_Zmean",
          "name": "Mean across Z axis",
          "description": "Mean across Z axis",
          "command-line": "[OP_ZMEAN]",
          "inputs": [
            {
              "value-key": "[OP_ZMEAN]",
              "id": "Zmean",
              "name": "Mean across Z axis",
              "type": "Flag",
              "description": "Mean across Z axis",
              "command-line-flag": "-Zmean"
            }
          ]
        },
        {
          "id": "operation_Tstd",
          "name": "Standard deviation across time",
          "description": "Standard deviation across time",
          "command-line": "[OP_TSTD]",
          "inputs": [
            {
              "value-key": "[OP_TSTD]",
              "id": "Tstd",
              "name": "Standard deviation across time",
              "type": "Flag",
              "description": "Standard deviation across time",
              "command-line-flag": "-Tstd"
            }
          ]
        },
        {
          "id": "operation_Xstd",
          "name": "Standard deviation across X axis",
          "description": "Standard deviation across X axis",
          "command-line": "[OP_XSTD]",
          "inputs": [
            {
              "value-key": "[OP_XSTD]",
              "id": "Xstd",
              "name": "Standard deviation across X axis",
              "type": "Flag",
              "description": "Standard deviation across X axis",
              "command-line-flag": "-Xstd"
            }
          ]
        },
        {
          "id": "operation_Ystd",
          "name": "Standard deviation across Y axis",
          "description": "Standard deviation across Y axis",
          "command-line": "[OP_YSTD]",
          "inputs": [
            {
              "value-key": "[OP_YSTD]",
              "id": "Ystd",
              "name": "Standard deviation across Y axis",
              "type": "Flag",
              "description": "Standard deviation across Y axis",
              "command-line-flag": "-Ystd"
            }
          ]
        },
        {
          "id": "operation_Zstd",
          "name": "Standard deviation across Z axis",
          "description": "Standard deviation across Z axis",
          "command-line": "[OP_ZSTD]",
          "inputs": [
            {
              "value-key": "[OP_ZSTD]",
              "id": "Zstd",
              "name": "Standard deviation across Z axis",
              "type": "Flag",
              "description": "Standard deviation across Z axis",
              "command-line-flag": "-Zstd"
            }
          ]
        },
        {
          "id": "operation_Tmax",
          "name": "Max across time",
          "description": "Max across time",
          "command-line": "[OP_TMAX]",
          "inputs": [
            {
              "value-key": "[OP_TMAX]",
              "id": "Tmax",
              "name": "Max across time",
              "type": "Flag",
              "description": "Max across time",
              "command-line-flag": "-Tmax"
            }
          ]
        },
        {
          "id": "operation_Xmax",
          "name": "Max across X axis",
          "description": "Max across X axis",
          "command-line": "[OP_XMAX]",
          "inputs": [
            {
              "value-key": "[OP_XMAX]",
              "id": "Xmax",
              "name": "Max across X axis",
              "type": "Flag",
              "description": "Max across X axis",
              "command-line-flag": "-Xmax"
            }
          ]
        },
        {
          "id": "operation_Ymax",
          "name": "Max across Y axis",
          "description": "Max across Y axis",
          "command-line": "[OP_YMAX]",
          "inputs": [
            {
              "value-key": "[OP_YMAX]",
              "id": "Ymax",
              "name": "Max across Y axis",
              "type": "Flag",
              "description": "Max across Y axis",
              "command-line-flag": "-Ymax"
            }
          ]
        },
        {
          "id": "operation_Zmax",
          "name": "Max across Z axis",
          "description": "Max across Z axis",
          "command-line": "[OP_ZMAX]",
          "inputs": [
            {
              "value-key": "[OP_ZMAX]",
              "id": "Zmax",
              "name": "Max across Z axis",
              "type": "Flag",
              "description": "Max across Z axis",
              "command-line-flag": "-Zmax"
            }
          ]
        },
        {
          "id": "operation_Tmaxn",
          "name": "Time index of max across time",
          "description": "Time index of max across time",
          "command-line": "[OP_TMAXN]",
          "inputs": [
            {
              "value-key": "[OP_TMAXN]",
              "id": "Tmaxn",
              "name": "Time index of max across time",
              "type": "Flag",
              "description": "Time index of max across time",
              "command-line-flag": "-Tmaxn"
            }
          ]
        },
        {
          "id": "operation_Xmaxn",
          "name": "X index of max across X axis",
          "description": "X index of max across X axis",
          "command-line": "[OP_XMAXN]",
          "inputs": [
            {
              "value-key": "[OP_XMAXN]",
              "id": "Xmaxn",
              "name": "X index of max across X axis",
              "type": "Flag",
              "description": "X index of max across X axis",
              "command-line-flag": "-Xmaxn"
            }
          ]
        },
        {
          "id": "operation_Ymaxn",
          "name": "Y index of max across Y axis",
          "description": "Y index of max across Y axis",
          "command-line": "[OP_YMAXN]",
          "inputs": [
            {
              "value-key": "[OP_YMAXN]",
              "id": "Ymaxn",
              "name": "Y index of max across Y axis",
              "type": "Flag",
              "description": "Y index of max across Y axis",
              "command-line-flag": "-Ymaxn"
            }
          ]
        },
        {
          "id": "operation_Zmaxn",
          "name": "Z index of max across Z axis",
          "description": "Z index of max across Z axis",
          "command-line": "[OP_ZMAXN]",
          "inputs": [
            {
              "value-key": "[OP_ZMAXN]",
              "id": "Zmaxn",
              "name": "Z index of max across Z axis",
              "type": "Flag",
              "description": "Z index of max across Z axis",
              "command-line-flag": "-Zmaxn"
            }
          ]
        },
        {
          "id": "operation_Tmin",
          "name": "Min across time",
          "description": "Min across time",
          "command-line": "[OP_TMIN]",
          "inputs": [
            {
              "value-key": "[OP_TMIN]",
              "id": "Tmin",
              "name": "Min across time",
              "type": "Flag",
              "description": "Min across time",
              "command-line-flag": "-Tmin"
            }
          ]
        },
        {
          "id": "operation_Xmin",
          "name": "Min across X axis",
          "description": "Min across X axis",
          "command-line": "[OP_XMIN]",
          "inputs": [
            {
              "value-key": "[OP_XMIN]",
              "id": "Xmin",
              "name": "Min across X axis",
              "type": "Flag",
              "description": "Min across X axis",
              "command-line-flag": "-Xmin"
            }
          ]
        },
        {
          "id": "operation_Ymin",
          "name": "Min across Y axis",
          "description": "Min across Y axis",
          "command-line": "[OP_YMIN]",
          "inputs": [
            {
              "value-key": "[OP_YMIN]",
              "id": "Ymin",
              "name": "Min across Y axis",
              "type": "Flag",
              "description": "Min across Y axis",
              "command-line-flag": "-Ymin"
            }
          ]
        },
        {
          "id": "operation_Zmin",
          "name": "Min across Z axis",
          "description": "Min across Z axis",
          "command-line": "[OP_ZMIN]",
          "inputs": [
            {
              "value-key": "[OP_ZMIN]",
              "id": "Zmin",
              "name": "Min across Z axis",
              "type": "Flag",
              "description": "Min across Z axis",
              "command-line-flag": "-Zmin"
            }
          ]
        },
        {
          "id": "operation_Tmedian",
          "name": "Median across time",
          "description": "Median across time",
          "command-line": "[OP_TMEDIAN]",
          "inputs": [
            {
              "value-key": "[OP_TMEDIAN]",
              "id": "Tmedian",
              "name": "Median across time",
              "type": "Flag",
              "description": "Median across time",
              "command-line-flag": "-Tmedian"
            }
          ]
        },
        {
          "id": "operation_Xmedian",
          "name": "Median across X axis",
          "description": "Median across X axis",
          "command-line": "[OP_XMEDIAN]",
          "inputs": [
            {
              "value-key": "[OP_XMEDIAN]",
              "id": "Xmedian",
              "name": "Median across X axis",
              "type": "Flag",
              "description": "Median across X axis",
              "command-line-flag": "-Xmedian"
            }
          ]
        },
        {
          "id": "operation_Ymedian",
          "name": "Median across Y axis",
          "description": "Median across Y axis",
          "command-line": "[OP_YMEDIAN]",
          "inputs": [
            {
              "value-key": "[OP_YMEDIAN]",
              "id": "Ymedian",
              "name": "Median across Y axis",
              "type": "Flag",
              "description": "Median across Y axis",
              "command-line-flag": "-Ymedian"
            }
          ]
        },
        {
          "id": "operation_Zmedian",
          "name": "Median across Z axis",
          "description": "Median across Z axis",
          "command-line": "[OP_ZMEDIAN]",
          "inputs": [
            {
              "value-key": "[OP_ZMEDIAN]",
              "id": "Zmedian",
              "name": "Median across Z axis",
              "type": "Flag",
              "description": "Median across Z axis",
              "command-line-flag": "-Zmedian"
            }
          ]
        },
        {
          "id": "operation_Tperc",
          "name": "Percentile across time",
          "description": "Nth percentile (0-100) of FULL RANGE across time",
          "command-line": "[OP_TPERC]",
          "inputs": [
            {
              "value-key": "[OP_TPERC]",
              "id": "Tperc",
              "name": "Percentile across time",
              "type": "Number",
              "description": "Nth percentile (0-100) of FULL RANGE across time",
              "optional": true,
              "command-line-flag": "-Tperc",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_Xperc",
          "name": "Percentile across X axis",
          "description": "Nth percentile (0-100) of FULL RANGE across X axis",
          "command-line": "[OP_XPERC]",
          "inputs": [
            {
              "value-key": "[OP_XPERC]",
              "id": "Xperc",
              "name": "Percentile across X axis",
              "type": "Number",
              "description": "Nth percentile (0-100) of FULL RANGE across X axis",
              "optional": true,
              "command-line-flag": "-Xperc",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_Yperc",
          "name": "Percentile across Y axis",
          "description": "Nth percentile (0-100) of FULL RANGE across Y axis",
          "command-line": "[OP_YPERC]",
          "inputs": [
            {
              "value-key": "[OP_YPERC]",
              "id": "Yperc",
              "name": "Percentile across Y axis",
              "type": "Number",
              "description": "Nth percentile (0-100) of FULL RANGE across Y axis",
              "optional": true,
              "command-line-flag": "-Yperc",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_Zperc",
          "name": "Percentile across Z axis",
          "description": "Nth percentile (0-100) of FULL RANGE across Z axis",
          "command-line": "[OP_ZPERC]",
          "inputs": [
            {
              "value-key": "[OP_ZPERC]",
              "id": "Zperc",
              "name": "Percentile across Z axis",
              "type": "Number",
              "description": "Nth percentile (0-100) of FULL RANGE across Z axis",
              "optional": true,
              "command-line-flag": "-Zperc",
              "minimum": 0,
              "maximum": 100
            }
          ]
        },
        {
          "id": "operation_Tar1",
          "name": "Temporal AR(1) coefficient",
          "description": "Temporal AR(1) coefficient (use -odt float and probably demean first)",
          "command-line": "[OP_TAR1]",
          "inputs": [
            {
              "value-key": "[OP_TAR1]",
              "id": "Tar1",
              "name": "Temporal AR(1) coefficient",
              "type": "Flag",
              "description": "Temporal AR(1) coefficient (use -odt float and probably demean first)",
              "command-line-flag": "-Tar1"
            }
          ]
        },
        {
          "id": "operation_roi",
          "name": "Zero outside ROI",
          "description": "<xmin> <xsize> <ymin> <ysize> <zmin> <zsize> <tmin> <tsize>. Zero outside roi (using voxel coordinates). Inputting -1 for a size will set it to the full image extent for that dimension.",
          "command-line": "[OP_ROI]",
          "inputs": [
            {
              "value-key": "[OP_ROI]",
              "id": "roi",
              "name": "Zero outside ROI",
              "type": "Number",
              "list": true,
              "min-list-entries": 6,
              "max-list-entries": 6,
              "description": "<xmin> <xsize> <ymin> <ysize> <zmin> <zsize> <tmin> <tsize>. Zero outside roi (using voxel coordinates). Inputting -1 for a size will set it to the full image extent for that dimension.",
              "optional": true,
              "command-line-flag": "-roi"
            }
          ]
        },
        {
          "id": "operation_bptf",
          "name": "Bandpass temporal filtering",
          "description": "<lowpass> <highpass>. Bandpass temporal filtering (use -odt float and probably demean first)",
          "command-line": "[OP_BPTF]",
          "inputs": [
            {
              "value-key": "[OP_BPTF]",
              "id": "bptf",
              "name": "Bandpass temporal filtering",
              "type": "Number",
              "list": true,
              "min-list-entries": 2,
              "max-list-entries": 2,
              "description": "<lowpass> <highpass>. Bandpass temporal filtering (use -odt float and probably demean first)",
              "optional": true,
              "command-line-flag": "-bptf"
            }
          ]
        },
        {
          "id": "operation_roc",
          "name": "ROC analysis",
          "description": "<threshold> <output>. ROC analysis",
          "command-line": "[OP_ROC]",
          "inputs": [
            {
              "value-key": "[OP_ROC]",
              "id": "roc",
              "name": "ROC analysis",
              "type": "Number",
              "list": true,
              "description": "<threshold> <output>. ROC analysis",
              "optional": true,
              "command-line-flag": "-roc"
            }
          ]
        }
      ]
    },
    {
      "id": "output",
      "name": "Output",
      "type": "String",
      "description": "Output image file",
      "optional": false,
      "value-key": "[OUTPUT]"
    },
    {
      "id": "output_datatype",
      "name": "Output datatype",
      "type": "String",
      "optional": true,
      "description": "Datatype used for the output image",
      "value-choices": [
        "char",
        "short",
        "int",
        "float",
        "double",
        "input"
      ],
      "value-key": "[OUTPUT_DATATYPE]",
      "command-line-flag": "-odt"
    }
  ],
  "output-files": [
    {
      "id": "output_file",
      "name": "Output File",
      "path-template": "[OUTPUT]",
      "description": "The main output file produced by fslmaths"
    }
  ],
  "url": "https://fsl.fmrib.ox.ac.uk/fsl/fslwiki"
}